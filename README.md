# 🎣 BrownDust II Auto Fishing System (棕色尘埃2 自动钓鱼系统)

这是一个专为《棕色尘埃2》(BrownDust II) 设计的现代化自动化钓鱼软件。采用 **PyQt6** 构建图形界面，内置多线程逻辑引擎与计算机视觉识别模块，旨在提供稳定、高效且安全的挂机体验。

## ✨ 核心特性

*   **可视化 ROI 配置**：告别繁琐的坐标录入，通过半透明覆盖层直接在游戏画面上框选“小游戏区域”和“咬钩检测点”，所见即所得。
*   **多线程架构**：GUI 界面与业务逻辑分离，挂机过程中界面保持流畅响应，支持随时暂停/恢复。
*   **拟人化操作 (Human-Like)**：内置高斯分布点击偏移与随机延迟算法，模拟真实玩家的操作轨迹，降低检测风险。
*   **高性能视觉引擎**：基于 MSS 的极速截图与 OpenCV 模板匹配，确保在 60FPS 下精准命中 QTE 区域。
*   **智能背包管理**：自动识别背包满载状态，并执行一键贩卖流程。

## 🛠️ 环境依赖与安装

推荐使用 Python 3.10+ 环境。

1.  **安装依赖**：
    在项目根目录下运行终端，执行：
    ```bash
    pip install -r requirements.txt
    ```

2.  **启动软件**：
    ```bash
    python main.py
    ```

## 🎮 使用指南

### 1. 初始化配置 (首次运行必做)
由于不同玩家的分辨率和窗口位置不同，首次启动软件后，必须手动设定识别区域：

1.  **设置小游戏区域**：
    *   在“参数设置”标签页，点击【🎯 设置小游戏区域】。
    *   将出现的绿色半透明框拖拽覆盖到游戏中的 **钓鱼进度条** 上。
    *   双击左键确认。
    *   参考图：<img width="511" height="55" alt="image" src="https://github.com/user-attachments/assets/8a8a09e6-3d5f-4c42-b643-657a4fd16396" />

2.  **设置咬钩检测点**：
    *   点击【🎯 设置咬钩检测区域】。
    *   将框拖拽覆盖到角色头顶出现 **感叹号(!)** 的位置。
    *   双击左键确认。

3.  **保存配置**：
    *   点击界面底部的【💾 保存配置】按钮，确保设置生效。

### 2. 开始挂机
*   切换到“运行控制”标签页。
*   确保游戏角色已位于水边并出现抛竿图标。
*   点击【启动挂机】按钮。
*   日志窗口将实时显示当前运行状态。

### 3. 图片资源替换
本软件基于 **2K 分辨率** 下的游戏截图开发。如果你在其他分辨率下使用且发现识别失败（如一直不抛竿），请按以下步骤替换图片资源：

*   进入 `resources/images/templates/` 目录。
*   截取你当前游戏画面中对应的图标（如 `cast_icon.png` 抛竿图标、`bite_icon.png` 咬钩图标）。
*   覆盖同名文件即可。

## ⚙️ 高级参数说明

在 `config/settings.json` 或界面中可调整以下参数：

*   **抛竿蓄力 (Cast Duration)**：按住空格键的时间，影响抛竿距离。
*   **图像置信度 (Confidence)**：识别图片的相似度阈值（默认 0.8），调低可增加识别率但可能误判。
*   **拟人化参数**：包含点击像素偏移范围和随机延迟波动，建议保持默认以确保安全。

## ⚠️ 注意事项
*   软件运行期间，游戏窗口建议保持前台显示，以确保颜色识别的准确性。
*   若移动了游戏窗口位置，需重新进行区域配置。

---
*免责声明：本软件仅供技术交流与学习使用，请勿用于商业用途。使用自动化脚本可能违反游戏服务条款，使用者需自行承担相关风险。*
