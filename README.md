# 🎣 BrownDust II Auto Fishing - 棕色尘埃2 自动钓鱼脚本

《棕色尘埃2》(BrownDust II) 自动化钓鱼脚本。

<img width="616" height="539" alt="image" src="https://github.com/user-attachments/assets/ae5b2c12-d21a-4935-abd1-5d547dadf623" />

<img width="616" height="539" alt="image" src="https://github.com/user-attachments/assets/d3891db6-3f38-47a6-855b-a4c54ec5c3e2" />


## ✨ 核心特性

*   **自动钓鱼**：自动抛竿、收竿、QTE小游戏。
*   **位置修正**：支持昼夜切换重置位置后自动调整。
*   **背包管理**：自动识别背包满载状态，并执行一键贩卖流程。

## 🛠️ 环境依赖与安装

推荐使用 Python 3.10+ 环境。

1.  **安装依赖**：
    在项目根目录下运行终端，执行：
    ```bash
    pip install -r requirements.txt
    ```

2.  **启动软件**：
    ```bash
    python main.py
    ```

## 🎮 使用指南

### 1. 初始化配置 (首次运行必做)
由于不同玩家的分辨率和窗口位置不同，首次启动软件后，必须手动设定识别区域：

1.  **设置小游戏区域**：
    *   在“参数设置”标签页，点击【🎯 设置小游戏区域】。
    *   将出现的绿色半透明框拖拽覆盖到游戏中的 **钓鱼进度条** 上。
    *   双击左键确认。
    *   参考图：
    *   <img width="712" height="74" alt="image" src="https://github.com/user-attachments/assets/c4074baa-45a1-439a-a5eb-15441bb362dd" />
    *   **注意：不要截取太多背景，会导致误识别几率提高。**

2.  **设置咬钩检测点**：
    *   点击【🎯 设置咬钩检测区域】。
    *   将框拖拽覆盖到角色头顶出现 **感叹号(!)** 的位置。

3.  **设置提示信息区域** (新增)：
    *   点击【🎯 设置提示信息区域】。
    *   框选屏幕上方会出现 **“背包已满”** 或 **“无法在此处钓鱼”** 等文字提示的区域。
    *   这能大幅提高异常状态检测的速度和准确性。

4.  **保存配置**：
    *   点击界面底部的【💾 保存配置】按钮，确保设置生效。

### 2. 颜色识别校准 (进阶)
如果发现小游戏总是无法命中黄色区域，可能是因为你的显示器色彩与默认值有差异。
*   在“参数设置”页，点击【🎨 校准黄色命中区域】。
*   在弹出的窗口中，拖动 H/S/V 滑块。
*   左侧的原图为打开窗口时根据**设置小游戏区域**的瞬时截图，请保证此时该区域有小游戏QTE读条（可以事先截图替代游戏画面）。
*   观察右侧的预览图：**目标是让进度条上的黄色方块变为纯白，背景变为纯黑。**
*   点击保存即可。

### 3. 开始挂机
*   切换到“运行控制”标签页。
*   确保游戏角色已位于水边并出现抛竿图标。
*   点击【启动挂机】按钮。
*   按钮变红即表示正在运行，日志窗口将实时显示当前状态。

### 4. 图片资源替换
本软件基于 **2K 分辨率** 与 **浓雾湖** 的游戏截图开发。如果你在其他分辨率下使用且发现识别失败（如一直不收竿或出售），请按以下步骤替换图片资源：

*   进入 `resources/images/templates/` 目录。
*   截取你当前游戏画面中对应的图标（如 `cast_icon.png` 抛竿图标、`bite_icon.png` 咬钩图标）。
*   覆盖同名文件即可。

## ⚠️ 注意事项
*   软件运行期间，游戏窗口必须保持前台并且是当前焦点激活窗口。
*   若移动了游戏窗口位置导致**小游戏区域**偏离，需重新进行区域配置或还原窗口位置。
*   仅支持识别黄色区域，不支持识别蓝色区域（与背景颜色过于相似，容易误识别）。
*   稀有鱼释放技能会导致QTE界面混乱无法识别。
*   基于“浓雾湖”开发，其他地图自测。

---
*免责声明：本软件仅供技术交流与学习使用，请勿用于商业用途。使用自动化脚本可能违反游戏服务条款，使用者需自行承担相关风险。*